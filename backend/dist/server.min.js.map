{"version":3,"sources":["server.js"],"names":["https","require","fs","registerUser","bodyParser","cors","express","rateLimit","app","use","helmet","json","windowMs","max","origin","PORT","process","env","limiter","readFileSync","cert","httpsOptions","listen","console","log","concat"],"mappings":"aAAA,IAAMA,MAAQC,QAAQ,SAChBC,GAAKD,QAAQ,MADbD,QAAQC,QAAQ,oBAGGA,QAAQ,UAAzBE,sBAAAA,aAFAC,WAAWH,QAAnB,eAIMI,KAAOJ,QAAQ,QAHfK,OAAUL,QAAQ,UAKlBM,UAAYN,QAAQ,sBAJlBE,IAAAA,UASRK,IAAIC,IAAIC,UAPRF,IAAMH,IAAIA,KAAGJ,CAAAA,OAAQ,2BASrBO,IAAIC,IAAIL,WAAWO,QAPnB,IAAMJ,QAAYN,UAAQ,CAWxBW,SAAU,IATZC,IAAS,MAGTL,IAAIC,IAAIC,SACOI,IAAAA,KAAM,YAAEX,cAavB,IAAMY,KAAOC,QAAQC,IAAIF,MAAQ,IAT3BG,aAAUX,CACdK,IAAAA,GAAQO,aAAY,cAAMC,KAAAlB,GAAAiB,aAAA,gBAG5BX,MAAIC,aAEJY,aAAAb,KAAAc,OAAAP,KAAA,WAaEQ,QAAQC,IAAR,uCAAAC,OAAmDV","file":"server.min.js","sourcesContent":["const https = require('https');\r\nconst fs = require('fs');\r\nconst express = require('express');\r\nconst { registerUser } = require('./auth');\r\nconst bodyParser = require('body-parser');\r\nconst cors = require('cors');\r\nconst helmet = require('helmet');\r\nconst rateLimit = require('express-rate-limit');\r\n\r\nconst app = express();\r\n\r\n// Use security middleware\r\napp.use(helmet()); // Protect against common vulnerabilities\r\napp.use(cors({ origin: 'http://localhost:3000' })); // Allow only requests from the frontend\r\napp.use(bodyParser.json());\r\n\r\n// Rate Limiter Middleware for preventing DDoS and brute force attacks\r\nconst limiter = rateLimit({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  max: 100, // limit each IP to 100 requests per windowMs\r\n});\r\napp.use(limiter);\r\n\r\n// Register route\r\napp.post('/register', registerUser);\r\n\r\nconst PORT = process.env.PORT || 5000;\r\n\r\n// Read SSL certificate and key\r\nconst httpsOptions = {\r\n  key: fs.readFileSync('server.key'),\r\n  cert: fs.readFileSync('server.cert'),\r\n};\r\n\r\n// Create an HTTPS server\r\nhttps.createServer(httpsOptions, app).listen(PORT, () => {\r\n  console.log(`Server running on https://localhost:${PORT}`);\r\n});\r\n"]}